# SecNode 项目重构需求文档

## 项目概述

对 SecNode 项目进行重构，删除云端功能，整理测试文件结构，优化重复代码，提升项目的可维护性和代码质量。

## 需求

### 需求 1: 删除云端功能

**用户故事:** 作为开发者，我希望移除云端依赖功能，使项目更加轻量化和独立，减少外部依赖和潜在的隐私风险。

#### 验收标准

1. WHEN 删除云端功能时 THEN 系统应移除所有 CloudSyncer 相关代码
2. WHEN 删除云端功能时 THEN 系统应移除 aiohttp 等云端相关依赖
3. WHEN 删除云端功能时 THEN 系统应更新所有引用 CloudSyncer 的代码
4. WHEN 删除云端功能时 THEN 系统应保持核心安全策略功能完整
5. WHEN 删除云端功能时 THEN 系统应更新文档和示例代码

### 需求 2: 整理测试文件结构

**用户故事:** 作为开发者，我希望有一个清晰的测试文件结构，便于维护和运行测试，提高开发效率。

#### 验收标准

1. WHEN 整理测试文件时 THEN 所有测试文件应统一放在 tests/ 目录下
2. WHEN 整理测试文件时 THEN 测试文件应按功能模块分类组织
3. WHEN 整理测试文件时 THEN 应删除根目录下的散乱测试文件
4. WHEN 整理测试文件时 THEN 应创建统一的测试配置文件
5. WHEN 整理测试文件时 THEN 所有测试应能正常运行

### 需求 3: 优化重复代码

**用户故事:** 作为开发者，我希望减少代码重复，提高代码复用性，降低维护成本。

#### 验收标准

1. WHEN 优化重复代码时 THEN 应提取公共的测试工具函数
2. WHEN 优化重复代码时 THEN 应统一异常处理模式
3. WHEN 优化重复代码时 THEN 应优化策略类中的重复逻辑
4. WHEN 优化重复代码时 THEN 应创建公共的配置和常量文件
5. WHEN 优化重复代码时 THEN 代码复用率应显著提升

### 需求 4: 更新项目配置

**用户故事:** 作为开发者，我希望项目配置文件反映最新的依赖和结构变化。

#### 验收标准

1. WHEN 更新项目配置时 THEN pyproject.toml 应移除云端相关依赖
2. WHEN 更新项目配置时 THEN __init__.py 应移除 CloudSyncer 导出
3. WHEN 更新项目配置时 THEN README.md 应移除云端功能相关文档
4. WHEN 更新项目配置时 THEN 应保持向后兼容性